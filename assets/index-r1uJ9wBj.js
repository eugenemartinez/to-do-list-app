(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();function S(a,s){try{localStorage.setItem(a,JSON.stringify(s))}catch(o){console.error(`Error setting local storage for key "${a}":`,o)}}function M(a){try{const s=localStorage.getItem(a);return s?JSON.parse(s):null}catch(s){return console.error(`Error accessing local storage for key "${a}":`,s),null}}function v(a){try{const s=document.querySelectorAll(".task-list-item"),o=[];s.forEach(t=>{o.push({name:t.dataset.name,dueDate:t.dataset.dueDate||"",status:t.dataset.status||"In Progress",description:t.dataset.description||""})}),S("tasks",o)}catch(s){console.error("Error saving tasks:",s)}}function $(){try{return M("tasks")||[]}catch(a){return console.error("Error loading tasks:",a),[]}}function Y(){const a=document.getElementById("toggleMode"),s=document.body;if(!a){console.error("Dark mode toggle switch not found");return}const o=M("darkMode");(o==="enabled"||o===null)&&(s.classList.add("dark-mode"),a.checked=!0,S("darkMode","enabled")),a.addEventListener("change",()=>{a.checked?(s.classList.add("dark-mode"),S("darkMode","enabled")):(s.classList.remove("dark-mode"),S("darkMode","disabled"))})}function x(a,s,o=!0){if(!a)return;const t=o?a.value||new Date:null;return flatpickr(a,{dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",allowInput:!0,defaultDate:t,disableMobile:!0,onClose:s,onReady:function(n,r,l){l.altInput&&(l.altInput.style.textAlign="center")}})}function O(a){if(!a)return"";try{const s={year:"numeric",month:"long",day:"numeric"},o=new Date(a);return isNaN(o.getTime())?"":o.toLocaleDateString(void 0,s)}catch(s){return console.error("Error formatting date:",s),""}}const L=(a,s)=>{switch(s){case"In Progress":a.style.backgroundColor="rgba(255, 255, 0, 0.5)",a.style.color="black";break;case"Stuck":a.style.backgroundColor="rgba(255, 0, 0, 0.5)",a.style.color="white";break;case"Done":a.style.backgroundColor="rgba(0, 255, 0, 0.5)",a.style.color="white";break;default:a.style.backgroundColor="white",a.style.color="black";break}};function N(a,s,o,t){s.addEventListener("change",e=>{switch(e.target.value){case"In Progress":case"in-progress-first":t.style.cssText="background-color: rgba(255, 255, 0, 1) !important; color: black !important;",a.style.cssText="background-color: rgba(255, 255, 0, 1) !important; color: black !important;",s.style.cssText="background-color: rgba(255, 255, 0, 1) !important; color: black !important;";break;case"Stuck":case"stuck-first":t.style.cssText="background-color: rgba(255, 0, 0, 1) !important; color: white !important;",a.style.cssText="background-color: rgba(255, 0, 0, 1) !important; color: white !important;",s.style.cssText="background-color: rgba(255, 0, 0, 1) !important; color: white !important;";break;case"Done":case"done-first":t.style.cssText="background-color: rgba(0, 255, 0, 1) !important; color: white !important;",a.style.cssText="background-color: rgba(0, 255, 0, 1) !important; color: white !important;",s.style.cssText="background-color: rgba(0, 255, 0, 1) !important; color: white !important;";break;default:t.style.cssText="background-color: #3a4a5a !important; color: black !important;",a.style.cssText="background-color: #3a4a5a !important; color: white !important;",s.style.cssText="";break}})}class I{constructor(s,o,t=""){this.name=s,this.dueDate=o,this.status="In Progress",this.description=t}createTaskElement(){const s=document.createElement("div");s.classList.add("task-list-item"),s.dataset.name=this.name,s.dataset.dueDate=this.dueDate,s.dataset.status=this.status,s.dataset.description=this.description;const o=document.createElement("input");o.type="checkbox",o.classList.add("task-item-checkbox");const t=document.createElement("input");t.type="text",t.classList.add("task-item-name-input"),t.value=this.name;const e=()=>{this.name=t.value,s.dataset.name=this.name,v()};t.addEventListener("keydown",i=>{i.key==="Enter"&&(i.preventDefault(),t.blur(),e())}),t.addEventListener("blur",()=>{t.classList.remove("editing"),e()}),t.addEventListener("focus",()=>{t.classList.add("editing")});const n=document.createElement("div");n.classList.add("task-date-container");const r=document.createElement("input");r.type="text",r.classList.add("task-item-date-input"),r.placeholder="Select date",r.value=this.dueDate,n.appendChild(r);const l=x(r,(i,c,u)=>{if(i.length>0){const m=u.formatDate(i[0],"Y-m-d");this.dueDate=m,s.dataset.dueDate=m,v()}});if(r.nextElementSibling){const i=r.nextElementSibling;i.classList.add("task-item-date-input"),r.tabIndex=-1,r.style.display="none",i.addEventListener("click",()=>{l.open()})}n.addEventListener("click",i=>{i.target===n&&l.open()}),n.appendChild(r);const k=document.createElement("select");k.classList.add("task-item-status"),["In Progress","Stuck","Done"].forEach(i=>{const c=document.createElement("option");c.value=i,c.textContent=i,i===this.status&&(c.selected=!0),k.appendChild(c)}),L(k,this.status),k.addEventListener("change",()=>{this.status=k.value,s.dataset.status=this.status,L(k,this.status),v()});const d=document.createElement("button");return d.classList.add("task-item-delete"),d.textContent="X",d.addEventListener("click",()=>{s.classList.add("fade-out"),setTimeout(()=>{s.remove(),v()},500)}),s.addEventListener("dblclick",i=>{i.target===s&&window.showTaskDetails&&window.showTaskDetails(this)}),s.appendChild(o),s.appendChild(t),s.appendChild(n),s.appendChild(k),s.appendChild(d),s}}function D(){document.querySelectorAll(".task-item-checkbox").forEach(a=>{a.checked=!1}),document.querySelector('.task-header-checkbox input[type="checkbox"]').checked=!1}function b(){const a=document.querySelector(".task-header-actions"),s=document.querySelector(".task-header-name"),o=d=>{d?(a.style.display="block",s.style.display="none"):(a.style.display="none",s.style.display="block")},t=()=>{const d=document.querySelectorAll(".task-item-checkbox");return Array.from(d).some(i=>i.checked)},e=()=>{document.querySelector('.task-header-checkbox input[type="checkbox"]').checked||t()?o(!0):o(!1)};e(),document.querySelector('.task-header-checkbox input[type="checkbox"]').addEventListener("change",e),document.querySelectorAll(".task-item-checkbox").forEach(d=>{d.addEventListener("change",e)});const l=d=>{document.querySelectorAll(".task-item-checkbox:checked").forEach(c=>{const m=c.closest(".task-list-item").querySelector(".task-item-status");m.value=d,m.dispatchEvent(new Event("change"))}),v(),D(),e()},k=()=>{document.querySelectorAll(".task-item-checkbox:checked").forEach(i=>{const c=i.closest(".task-list-item");c.classList.add("fade-out"),setTimeout(()=>{c.remove(),v(),b()},500)}),setTimeout(()=>{D(),e()},500)};document.getElementById("markSelectedInProgressBtn").addEventListener("click",()=>{l("In Progress")}),document.getElementById("markSelectedStuckBtn").addEventListener("click",()=>{l("Stuck")}),document.getElementById("markSelectedDoneBtn").addEventListener("click",()=>{l("Done")}),document.getElementById("removeSelectedBtn").addEventListener("click",k)}function z(){const a=document.getElementById("taskInput"),s=document.getElementById("taskDate"),o=document.getElementById("addTaskBtn"),t=document.getElementById("taskList");function e(){if(localStorage.getItem("sampleTasksAdded")==="true")return;const l=new Date,k=new Date(l);k.setDate(k.getDate()-1);const d=new Date(l);d.setDate(d.getDate()+1);const i=y=>{const f=y.getFullYear(),h=String(y.getMonth()+1).padStart(2,"0"),p=String(y.getDate()).padStart(2,"0");return`${f}-${h}-${p}`},c=i(k),u=i(l),m=i(d);[{name:"Sample Task 1",dueDate:c,status:"Done",description:"This is a sample completed task with yesterday's due date."},{name:"Sample Task 2",dueDate:u,status:"Stuck",description:"This is a sample stuck task due today."},{name:"Sample Task 3",dueDate:m,status:"In Progress",description:"This is a sample in-progress task due tomorrow."}].forEach(y=>{const f=new I(y.name,y.dueDate,y.description);f.status=y.status;const h=f.createTaskElement();t.appendChild(h)}),v(),localStorage.setItem("sampleTasksAdded","true")}if(s){let k=function(){const i=$();if(i.length===0){e();return}t.innerHTML="",i.forEach(c=>{const u=new I(c.name,c.dueDate,c.description);u.status=c.status||"In Progress";const m=u.createTaskElement();t.appendChild(m)})},d=function(){const i=a.value.trim();let c="";if(l.selectedDates.length>0)c=l.formatDate(l.selectedDates[0],"Y-m-d");else{const u=new Date;c=l.formatDate(u,"Y-m-d")}if(i){const m=new I(i,c).createTaskElement();t.appendChild(m),v(),a.value="",l.setDate(new Date),D(),b(),a.focus()}else alert("Please enter a task name")};var n=k,r=d;const l=x(s);o.addEventListener("click",d),a.addEventListener("keypress",i=>{i.key==="Enter"&&d()}),s.nextElementSibling&&s.nextElementSibling.classList.contains("flatpickr-input")&&s.nextElementSibling.addEventListener("keypress",i=>{i.key==="Enter"&&d()}),k()}else console.error("Task date input not found")}function R(){document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector('.task-header-checkbox input[type="checkbox"]'),s=()=>{const c=document.querySelectorAll(".task-item-checkbox");return Array.from(c).filter(u=>{const m=u.closest(".task-list-item");return m&&m.style.display!=="none"})},o=c=>{s().forEach(m=>{m.checked=c}),e(),b()},t=()=>{document.querySelectorAll(".task-item-checkbox").forEach(u=>{u.addEventListener("change",()=>{const m=s(),E=m.length>0&&m.every(y=>y.checked);a.checked=E,e(),b()})})};a.addEventListener("change",()=>{o(a.checked)});const e=()=>{const c=document.querySelectorAll(".task-item-checkbox"),u=Array.from(c).map(m=>m.checked);localStorage.setItem("taskCheckboxStates",JSON.stringify(u))},n=()=>{const c=JSON.parse(localStorage.getItem("taskCheckboxStates"));c&&document.querySelectorAll(".task-item-checkbox").forEach((m,E)=>{E<c.length&&(m.checked=c[E])}),D(),b()},r=()=>{const c=s(),u=c.length>0&&c.every(m=>m.checked);a.checked=u};n(),t();const l=document.getElementById("taskList");new MutationObserver(()=>{t(),r()}).observe(l,{childList:!0});const d=new MutationObserver(c=>{c.forEach(u=>{u.type==="attributes"&&(u.attributeName==="style"||u.attributeName==="class")&&r()})});l.querySelectorAll(".task-list-item").forEach(c=>{d.observe(c,{attributes:!0,attributeFilter:["style","class"]})}),new MutationObserver(c=>{c.forEach(u=>{u.type==="childList"&&u.addedNodes.length>0&&u.addedNodes.forEach(m=>{m.nodeType===1&&m.classList.contains("task-list-item")&&d.observe(m,{attributes:!0,attributeFilter:["style","class"]})})})}).observe(l,{childList:!0}),document.querySelectorAll(".filter-container").forEach(c=>{c.addEventListener("click",()=>{setTimeout(r,100)})})})}function j(){const a=document.getElementById("taskDetailOverlay"),s=document.getElementById("taskDetailCard"),o=document.getElementById("detailTaskName"),t=document.getElementById("detailDueDateInput"),e=document.getElementById("detailStatusDropdown"),n=document.getElementById("detailDescription"),r=document.getElementById("closeTaskDetail"),l=document.getElementById("detailSaveBtn"),k=document.getElementById("detailDeleteBtn");let d=null;const i=x(t,()=>{m()});function c(f){d=f,o.value=f.dataset.name||"",f.dataset.dueDate?i.setDate(f.dataset.dueDate):i.clear();const h=f.dataset.status||"In Progress";let p="in-progress";switch(h){case"In Progress":p="in-progress";break;case"Stuck":p="stuck";break;case"Done":p="done";break;case"Not Started":p="not-started";break;default:p="in-progress"}e.value=p,n.value=f.dataset.description||"",a.style.display="block",s.style.display="block",L(e,h),e.addEventListener("change",()=>{const g=e.options[e.selectedIndex].text;L(e,g),m()}),o.addEventListener("blur",m),t.addEventListener("blur",m),n.addEventListener("blur",m),o.addEventListener("keydown",g=>{g.key==="Enter"&&o.blur()}),n.addEventListener("keydown",g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),n.blur())}),setTimeout(()=>{o.focus(),o.select()},50),setTimeout(()=>{a.classList.add("active"),s.classList.add("active")},10)}function u(){a.classList.remove("active"),s.classList.remove("active"),setTimeout(()=>{a.style.display="none",s.style.display="none",d=null},300)}function m(){if(!d)return;let f="In Progress";switch(e.value){case"in-progress":f="In Progress";break;case"stuck":f="Stuck";break;case"done":f="Done";break}const h=i.selectedDates.length>0?i.formatDate(i.selectedDates[0],"Y-m-d"):"";d.dataset.name=o.value,d.dataset.dueDate=h,d.dataset.status=f,d.dataset.description=n.value;const p=d.querySelector(".task-item-name-input");p&&(p.value=o.value);const g=d.querySelector(".task-item-date-input");g&&(g.dataset.originalDate=h,h?g.value=O(h):g.value="");const B=d.querySelector(".task-item-status");if(B){B.value=f;const V=new Event("change");B.dispatchEvent(V)}v()}function E(){d&&(d.classList.add("fade-out"),setTimeout(()=>{d.remove(),v(),u()},500))}function y(){document.addEventListener("click",f=>{const h=f.target.closest(".task-list-item");h&&(f.target.classList.contains("task-item-checkbox")||f.target.classList.contains("task-item-name-input")||f.target.classList.contains("task-item-date-input")||f.target.classList.contains("task-item-status")||f.target.classList.contains("task-item-delete")||c(h))}),r.addEventListener("click",u),a.addEventListener("click",u),l.addEventListener("click",u),k.addEventListener("click",E),document.addEventListener("keydown",f=>{s.style.display==="block"&&(f.key==="Escape"?u():f.key==="Enter"&&f.ctrlKey&&m())}),s.addEventListener("click",f=>{f.stopPropagation()}),t.addEventListener("click",()=>{i.open()})}y()}function J(a){const s=document.querySelectorAll(".task-list-item");let o=null;for(const t of s)if(t.dataset.name===a.name&&t.dataset.dueDate===a.dueDate){o=t;break}if(o){const t=document.getElementById("taskDetailOverlay"),e=document.getElementById("taskDetailCard"),n=document.getElementById("detailTaskName"),r=document.getElementById("detailDescription");window.activeTaskElement=o,n.value=a.name||"";const l=document.getElementById("detailDueDateInput")._flatpickr;l&&l.setDate(a.dueDate||"");const k=document.getElementById("detailStatusDropdown");let d="in-progress";switch(a.status){case"In Progress":d="in-progress";break;case"Stuck":d="stuck";break;case"Done":d="done";break;case"Not Started":d="not-started";break}k.value=d,r.value=a.description||"",t.style.display="block",e.style.display="block",L(k,a.status),k.addEventListener("change",()=>{const i=k.options[k.selectedIndex].text;L(k,i),saveTaskChanges()}),n.addEventListener("blur",saveTaskChanges),detailDueDateInput.addEventListener("blur",saveTaskChanges),r.addEventListener("blur",saveTaskChanges),setTimeout(()=>{t.classList.add("active"),e.classList.add("active"),n.focus(),n.select()},10)}}function K(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=t.closest(".filter-container"),l=document.getElementById("taskInput");if(!t||!e||!n||!r)return;t.dataset.defaultIcon=t.innerHTML,N(t,e,n,r);const k=()=>{e.value!==""?(n.classList.remove("hidden"),r.classList.add("active")):(n.classList.add("hidden"),r.classList.remove("active"))};t.addEventListener("click",i=>{i.stopPropagation(),document.querySelectorAll(".filter-container").forEach(c=>{if(c!==r){const u=c.querySelector("select");u&&u.classList.add("hidden")}}),e.classList.remove("hidden"),e.value!==""&&n.classList.remove("hidden")}),e.addEventListener("change",()=>{k()}),n.addEventListener("click",i=>{i.stopPropagation(),e.value="",e.classList.add("hidden"),n.classList.add("hidden"),r.classList.remove("active"),t.dataset.defaultIcon&&(t.innerHTML=t.dataset.defaultIcon),e.dispatchEvent(new Event("change"))}),l&&l.addEventListener("click",()=>{n.classList.contains("hidden")||n.click()});const d=i=>{r.contains(i.target)||(e.classList.add("hidden"),e.value!==""?(n.classList.remove("hidden"),r.classList.add("active")):(n.classList.add("hidden"),r.classList.remove("active")))};return document.addEventListener("click",d),k(),{destroy:()=>{document.removeEventListener("click",d),n.removeEventListener("click",()=>{}),e.removeEventListener("change",()=>{}),l&&l.removeEventListener("click",()=>{})},setValue:i=>{e.value=i,k(),e.dispatchEvent(new Event("change"))},getValue:()=>e.value}}function W(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=t.closest(".filter-container"),l=document.getElementById("sortByDateBtn");if(!t||!e||!n||!r)return;t.dataset.defaultIcon=t.innerHTML;const k=()=>e.value!==""&&e.value!=="Select Sort Order",d=()=>{k()?n.classList.remove("hidden"):n.classList.add("hidden")};N(t,e,n,r),l&&l.addEventListener("click",()=>{n.classList.contains("hidden")||n.click()}),t.addEventListener("click",c=>{c.stopPropagation(),document.querySelectorAll(".filter-container").forEach(u=>{if(u!==r){const m=u.querySelector("select");m&&m.classList.add("hidden")}}),e.value==="in-progress-first"?e.value="stuck-first":e.value==="stuck-first"?e.value="done-first":e.value="in-progress-first",e.dispatchEvent(new Event("change",{bubbles:!0})),e.classList.remove("hidden"),d()}),e.addEventListener("change",()=>{d()}),n.addEventListener("click",c=>{c.stopPropagation(),e.value="",e.classList.add("hidden"),n.classList.add("hidden"),e.dispatchEvent(new Event("change"))});const i=c=>{r.contains(c.target)||(e.classList.add("hidden"),d())};return document.addEventListener("click",i),d(),{destroy:()=>{document.removeEventListener("click",i),e.removeEventListener("change",()=>{})}}}function X(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=t.closest(".filter-container"),l=document.getElementById("sortByStatusBtn");if(!t||!e||!n||!r)return;t.dataset.defaultIcon='<i class="fas fa-sort" style="margin-right: 5px;"></i> <i class="fas fa-calendar-alt" style="margin-right: 5px;"></i>';const k=i=>{i==="Ascending"?(t.innerHTML='<i class="fas fa-arrow-up" style="margin-right: 5px;"></i> <i class="fas fa-calendar-alt" style="margin-right: 5px;"></i>',r.classList.add("active")):i==="Descending"?(t.innerHTML='<i class="fas fa-arrow-down" style="margin-right: 5px;"></i> <i class="fas fa-calendar-alt" style="margin-right: 5px;"></i>',r.classList.add("active")):(t.innerHTML=t.dataset.defaultIcon,r.classList.remove("active")),i!==""?n.classList.remove("hidden"):n.classList.add("hidden")};t.addEventListener("click",i=>{i.stopPropagation(),document.querySelectorAll(".filter-container").forEach(c=>{if(c!==r){const u=c.querySelector("select");u&&u.classList.add("hidden")}}),e.value==="Ascending"?e.value="Descending":e.value="Ascending",k(e.value),e.classList.remove("hidden")}),e.addEventListener("change",i=>{const c=i.target.value;k(c)}),n.addEventListener("click",i=>{i.stopPropagation(),e.value="",e.classList.add("hidden"),n.classList.add("hidden"),r.classList.remove("active"),t.innerHTML=t.dataset.defaultIcon});const d=i=>{r.contains(i.target)||(e.classList.add("hidden"),e.value!==""?(n.classList.remove("hidden"),r.classList.add("active")):(n.classList.add("hidden"),r.classList.remove("active")))};return document.addEventListener("click",d),l&&l.addEventListener("click",()=>{n.classList.contains("hidden")||n.click()}),e.value&&k(e.value),{destroy:()=>{document.removeEventListener("click",d),l&&l.removeEventListener("click",()=>{}),n.removeEventListener("click",()=>{}),e.removeEventListener("change",()=>{})},setValue:i=>{e.value=i,k(i)},getValue:()=>e.value}}function _(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=t.closest(".filter-container"),l=document.getElementById("taskInput");if(!t||!e||!n||!r)return;const k=c=>{const u=document.createElement("span");u.style.visibility="hidden",u.style.whiteSpace="nowrap",u.style.fontSize=window.getComputedStyle(c).fontSize,u.style.fontFamily=window.getComputedStyle(c).fontFamily,c.tagName==="SELECT"?u.innerText=c.options[c.selectedIndex].text:u.innerText=c.value||c.placeholder,document.body.appendChild(u),c.style.width=`${u.offsetWidth+15}px`,document.body.removeChild(u)};e.classList.add("hidden");const d=()=>{e.value!==""?(n.classList.remove("hidden"),r.classList.add("active"),e.classList.remove("hidden"),k(e)):(n.classList.add("hidden"),r.classList.remove("active"),e.classList.add("hidden"))},i=flatpickr(t,{dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",allowInput:!0,disableMobile:!0,onChange:function(c,u,m){e.value=O(u),d()},onOpen:function(c,u,m){m.calendarContainer.style.top="auto",m.calendarContainer.style.left="auto"},onReady:function(c,u,m){m.altInput&&(m.altInput.style.position="absolute"),k(e)}});return t.addEventListener("click",c=>{c.stopPropagation(),document.querySelectorAll(".filter-container").forEach(u=>{if(u!==r){const m=u.querySelector("select");m&&m.classList.add("hidden")}}),i.open(),d()}),n.addEventListener("click",c=>{c.stopPropagation(),e.value="",e.classList.add("hidden"),n.classList.add("hidden"),r.classList.remove("active"),i.clear()}),l&&l.addEventListener("click",()=>{n.classList.contains("hidden")||n.click()}),document.addEventListener("click",c=>{!r.contains(c.target)&&!c.target.closest(".flatpickr-calendar")&&d()}),e.placeholder="Select Date",d(),{destroy:()=>{document.removeEventListener("click",()=>{}),n.removeEventListener("click",()=>{}),l&&l.removeEventListener("click",()=>{}),i.destroy()},setValue:c=>{e.value=c,d()},getValue:()=>e.value}}function G(){const a=document.getElementById("filterTasksBtn"),s=document.getElementById("sortTasksBtn"),o=document.querySelectorAll(".filter-container");o.forEach(t=>t.classList.add("hidden")),a.addEventListener("click",()=>{o.forEach(t=>{(t.classList.contains("date-filter-container")||t.classList.contains("status-filter-container"))&&t.classList.toggle("hidden")})}),s.addEventListener("click",()=>{o.forEach(t=>{(t.classList.contains("date-sort-container")||t.classList.contains("status-sort-container"))&&t.classList.toggle("hidden")})})}let F=[];function Q(a,s){return a.sort((o,t)=>{const e=o.getAttribute("data-due-date")||"",n=t.getAttribute("data-due-date")||"";if(e&&!n)return-1;if(!e&&n)return 1;if(!e&&!n)return 0;const r=new Date(e).getTime(),l=new Date(n).getTime();return s==="descending"?l-r:r-l})}function U(a,s){const o=Array.from(a.querySelectorAll(".task-list-item")),t=Q(o,s);a.innerHTML="",t.forEach(e=>{a.appendChild(e)})}function w(a){a.innerHTML="",F.forEach(s=>{a.appendChild(s)})}function Z(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=document.getElementById("taskList");if(!t||!e||!n||!r){console.error("Date sort elements not found");return}F=Array.from(r.querySelectorAll(".task-list-item"));const l=()=>{const k=e.value==="Ascending"?"ascending":e.value==="Descending"?"descending":"";k?U(r,k):w(r)};t.addEventListener("click",l),e.addEventListener("change",l),n.addEventListener("click",()=>{e.value="",w(r)})}let H=[];function ee(a,s){let o={"Not Started":3,"In Progress":2,Stuck:1,Done:0};return s==="in-progress-first"?o={"In Progress":3,Stuck:2,"Not Started":1,Done:0}:s==="stuck-first"?o={Stuck:3,"In Progress":2,"Not Started":1,Done:0}:s==="done-first"&&(o={Done:3,"In Progress":2,Stuck:1,"Not Started":0}),a.sort((t,e)=>{const n=t.getAttribute("data-status")||"",r=e.getAttribute("data-status")||"";return o[r]-o[n]})}function te(a,s){const o=Array.from(a.querySelectorAll(".task-list-item")),t=ee(o,s);a.innerHTML="",t.forEach(e=>{a.appendChild(e)})}function C(a){a.innerHTML="",H.forEach(s=>{a.appendChild(s)})}function se(a,s,o){const t=document.getElementById(a),e=document.getElementById(s),n=document.getElementById(o),r=document.getElementById("taskList");if(!t||!e||!n||!r){console.error("Status sort elements not found");return}H=Array.from(r.querySelectorAll(".task-list-item"));const l=()=>{const k=e.value;k?te(r,k):C(r)};t.addEventListener("click",l),e.addEventListener("change",l),n.addEventListener("click",()=>{e.value="",C(r)})}function ae(a,s){a.querySelectorAll(".task-list-item").forEach(t=>{(t.getAttribute("data-status")||"")===s?t.style.display="":t.style.display="none"})}function A(a){a.querySelectorAll(".task-list-item").forEach(o=>{o.style.display=""})}function ne(a,s){const o=document.getElementById(a),t=document.getElementById(s),e=document.getElementById("taskList");if(!o||!t||!e){console.error("Status filter elements not found");return}o.addEventListener("change",()=>{const n=o.value;n?ae(e,n):A(e)}),t.addEventListener("click",()=>{o.value="",A(e)})}function q(a){if(!a)return"";const s=new Date(a);if(isNaN(s.getTime()))return"";const o=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0"),e=String(s.getDate()).padStart(2,"0");return`${o}-${t}-${e}`}function P(a,s){const o=q(s);a.querySelectorAll(".task-list-item").forEach(e=>{const n=e.getAttribute("data-due-date")||"";q(n)===o?e.style.display="":e.style.display="none"})}function T(a){a.querySelectorAll(".task-list-item").forEach(o=>{o.style.display=""})}function oe(a,s){const o=document.getElementById(a),t=document.getElementById("filterByDateBtn"),e=document.getElementById(s),n=document.getElementById("taskList");if(!o||!e||!n||!t){console.error("Date filter elements not found");return}new MutationObserver(l=>{for(const k of l)if(k.type==="attributes"&&k.attributeName==="value"){const d=t.getAttribute("value");d?P(n,d):T(n);break}}).observe(t,{attributes:!0}),o.addEventListener("change",()=>{const l=o.value;l?P(n,l):T(n)}),e.addEventListener("click",()=>{o.value="",t.setAttribute("value",""),T(n)})}Y();z();R();j();K("filterByStatusBtn","filterStatusDropdown","resetFilterByStatusBtn");W("sortByStatusBtn","sortStatusDropdown","resetSortByStatusBtn");X("sortByDateBtn","sortDateDropdown","resetSortByDateBtn");_("filterByDateBtn","filterDateInput","resetFilterByDateBtn");G();Z("sortByDateBtn","sortDateDropdown","resetSortByDateBtn");se("sortByStatusBtn","sortStatusDropdown","resetSortByStatusBtn");ne("filterStatusDropdown","resetFilterByStatusBtn");oe("filterByDateBtn","resetFilterByDateBtn");window.showTaskDetails=J;
